<script setup>
import Headerr from '@/components/headerr-.vue'

import { onMounted, onUnmounted, reactive, ref } from 'vue'
import { RouterView } from 'vue-router'
const isOpen = ref(false)
const menuRef = ref(null)
const menuBoard = ref(null)

const isOpenSelectBoardType = ref(false)
const isOpenMenuCreateBoard = ref(false)

onMounted(() => {
  window.addEventListener('click', handleClickOutsidev2)
})
onUnmounted(() => {
  window.removeEventListener('click', handleClickOutsidev2)
})

const handleClickOutside = (event) => {
  if (!event.target.closest('#avatar')) {
    isOpen.value = false
  }
}
const handleClickOutsidev2 = (e) => {
  if (
    menuRef.value &&
    !menuRef.value.contains(e.target) &&
    menuBoard.value &&
    !menuBoard.value.contains(e.target)
  ) {
    isOpen.value = false
    isOpenMenuCreateBoard.value = false
    isOpenSelectBoardType.value = false
  }
}
</script>
<template>
  <div class="w-screen h-screen">
    <Headerr></Headerr>
    <div class="pt-10 px-5 flex">
      <!-- side menu -->
      <div class="w-1/5">
        <ul class="w-[70%] mx-auto">
          <li class="hover:bg-[#091E4224] rounded-md">
            <RouterLink
              exact-active-class="active-link"
              to="/boards"
              class="flex items-center gap-2 mb-1 p-2"
            >
              <svg
                class="mr-1"
                fill="#424242"
                height="16px"
                width="16px"
                version="1.1"
                id="Capa_1"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                viewBox="0 0 439.117 439.117"
                xml:space="preserve"
                stroke="#424242"
              >
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                  <g>
                    <path
                      d="M352.221,27.923c-0.199-2.606-2.371-4.62-4.985-4.62H137.546c-1.392,0-2.721,0.581-3.667,1.602 c-0.946,1.021-1.424,2.391-1.318,3.779l18.719,245.201c0.199,2.606,2.372,4.62,4.985,4.62h9.78l1.316,16.146 c0.211,2.595,2.379,4.594,4.983,4.594h185.867c5.368,0,10.534-2.264,14.173-6.211s5.476-9.28,5.039-14.63l-0.432-5.305 c-0.211-2.596-2.379-4.595-4.983-4.595h-1.421L352.221,27.923z M142.942,33.303h199.661l17.955,235.201h-199.66L142.942,33.303z M176.953,289.245l-0.875-10.74h16.237l0.058,0.711c0.213,2.613-0.648,5.113-2.425,7.041c-1.777,1.927-4.199,2.989-6.82,2.989 H176.953z M365.031,286.256c-1.776,1.927-4.199,2.989-6.82,2.989H199.995c1.786-3.255,2.633-6.987,2.347-10.74h163.612h1.444 l0.058,0.711C367.669,281.828,366.808,284.328,365.031,286.256z"
                    ></path>
                    <path
                      d="M347.712,261.556c1.393,0,2.722-0.581,3.668-1.602c0.946-1.021,1.424-2.391,1.317-3.779L336.566,44.871 c-0.199-2.606-2.371-4.62-4.985-4.62H155.788c-1.392,0-2.721,0.581-3.667,1.602c-0.946,1.021-1.424,2.391-1.318,3.779 l16.131,211.305c0.199,2.606,2.372,4.62,4.985,4.62H347.712z M161.184,50.251h165.765l15.367,201.305H176.551L161.184,50.251z"
                    ></path>
                    <path
                      d="M373.745,4.62C373.546,2.013,371.374,0,368.76,0L70.356,0.002c-2.614,0-4.787,2.013-4.985,4.62L32.613,433.736 c-0.106,1.388,0.372,2.757,1.318,3.779c0.946,1.021,2.275,1.602,3.667,1.602h39.683c2.614,0,4.787-2.013,4.985-4.62l7.825-102.501 h25.941l7.825,102.499c0.199,2.606,2.372,4.62,4.985,4.62h39.683c1.392,0,2.721-0.581,3.667-1.602 c0.946-1.021,1.424-2.391,1.318-3.779l-7.767-101.74h107.632l-7.767,101.741c-0.106,1.388,0.371,2.757,1.317,3.779 c0.946,1.021,2.275,1.602,3.668,1.602l39.677,0.001c2.614,0,4.786-2.013,4.985-4.62l7.825-102.503h25.943l7.824,102.503 c0.199,2.606,2.371,4.62,4.985,4.62l39.684-0.002c1.393,0,2.722-0.581,3.668-1.602c0.946-1.021,1.424-2.391,1.317-3.779 L373.745,4.62z M74.989,10.002h6.355L49.345,429.117h-6.35L74.989,10.002z M85.458,321.996c-2.614,0-4.787,2.013-4.985,4.62 l-7.825,102.501H59.374l32-419.12h0.078l23.818,311.999H85.458z M101.48,10h6.35l31.995,419.114h-6.351L101.48,10z M282.335,429.115h-6.344l7.414-97.12h6.344L282.335,429.115z M305.639,429.117h-13.274l7.414-97.123h13.275L305.639,429.117z M359.054,331.994h6.35l7.415,97.123h-6.351L359.054,331.994z M382.848,429.114l-7.825-102.5c-0.199-2.606-2.372-4.62-4.985-4.62 H160.348c-1.392,0-2.721,0.581-3.667,1.602c-0.946,1.021-1.424,2.391-1.318,3.779l7.766,101.74h-13.274L117.86,10h246.267 l31.995,419.114H382.848z"
                    ></path>
                    <path
                      d="M90.755,192.899c-2.748-0.221-5.155,1.852-5.366,4.605l-8.177,107.121c-0.21,2.753,1.852,5.156,4.605,5.366 c0.129,0.01,0.258,0.015,0.386,0.015c2.588,0,4.78-1.996,4.98-4.62l8.177-107.121C95.571,195.511,93.509,193.109,90.755,192.899z"
                    ></path>
                    <path
                      d="M99.911,309.991c0.129,0.01,0.258,0.015,0.386,0.015c2.588,0,4.78-1.996,4.98-4.62l2.282-29.895 c0.21-2.753-1.852-5.156-4.605-5.366c-2.744-0.219-5.156,1.852-5.366,4.605l-2.282,29.895 C95.096,307.378,97.158,309.781,99.911,309.991z"
                    ></path>
                    <path
                      d="M240.56,68.785h76.262c2.762,0,5-2.239,5-5s-2.238-5-5-5H240.56c-2.762,0-5,2.239-5,5S237.798,68.785,240.56,68.785z"
                    ></path>
                    <path
                      d="M186.541,245.14h50.841c2.762,0,5-2.239,5-5s-2.238-5-5-5h-50.841c-2.761,0-5,2.239-5,5S183.78,245.14,186.541,245.14z"
                    ></path>
                    <path
                      d="M262.803,235.14h-11.121c-2.762,0-5,2.239-5,5s2.238,5,5,5h11.121c2.762,0,5-2.239,5-5S265.564,235.14,262.803,235.14z"
                    ></path>
                    <path
                      d="M316.821,76.261h-27.009c-2.762,0-5,2.239-5,5s2.238,5,5,5h27.009c2.762,0,5-2.239,5-5S319.583,76.261,316.821,76.261z"
                    ></path>
                  </g>
                </g>
              </svg>
              <span class="text-sm font-medium text-[#44546f]">Bảng</span>
            </RouterLink>
          </li>
          <li class="hover:bg-[#091E4224] rounded-md">
            <RouterLink
              exact-active-class="active-link"
              :to="{ name: 'Dashboard' }"
              class="flex items-center gap-2 mb-1 p-2"
            >
              <svg
                version="1.1"
                id="Layer_1"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                width="16px"
                height="16px"
                viewBox="0 0 34 32"
                enable-background="new 0 0 34 32"
                xml:space="preserve"
                fill="#000000"
              >
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                  <g>
                    <path
                      fill="#808184"
                      d="M5.24,18.179l2.974-2.486c0.212-0.177,0.24-0.493,0.063-0.705c-0.177-0.213-0.495-0.24-0.704-0.063 l-2.975,2.487c-0.92,0.769-2.229,0.722-2.979-0.106c-0.443-0.489-0.661-1.129-0.614-1.803c0.046-0.655,0.348-1.261,0.829-1.664 L17.006,1.152l15.077,12.609c0.9,0.752,1.181,2.066,0.652,3.056C32.34,17.558,31.636,18,30.853,18 c-0.482,0-0.938-0.169-1.321-0.488l-3.015-2.521c-0.209-0.177-0.524-0.149-0.704,0.062c-0.177,0.212-0.148,0.527,0.063,0.704 l3.015,2.522C29.455,18.751,30.133,19,30.853,19c1.159,0,2.192-0.64,2.766-1.713c0.746-1.398,0.361-3.244-0.895-4.294L17.326,0.116 c-0.186-0.155-0.455-0.155-0.641,0L1.194,13.072c-0.689,0.577-1.122,1.438-1.186,2.362c-0.065,0.934,0.252,1.861,0.869,2.543 C1.99,19.204,3.906,19.294,5.24,18.179z"
                    ></path>
                    <path
                      fill="#808184"
                      d="M5.5,20.5C5.224,20.5,5,20.724,5,21v9.5C5,31.327,5.673,32,6.5,32h21c0.827,0,1.5-0.673,1.5-1.5V21 c0-0.276-0.224-0.5-0.5-0.5S28,20.724,28,21v9.5c0,0.276-0.225,0.5-0.5,0.5h-21C6.225,31,6,30.776,6,30.5V21 C6,20.724,5.776,20.5,5.5,20.5z"
                    ></path>
                    <path
                      fill="#808184"
                      d="M20.5,25c0.827,0,1.5-0.673,1.5-1.5v-6c0-0.827-0.673-1.5-1.5-1.5h-6c-0.827,0-1.5,0.673-1.5,1.5v6 c0,0.827,0.673,1.5,1.5,1.5H20.5z M14,23.5v-6c0-0.276,0.225-0.5,0.5-0.5h6c0.275,0,0.5,0.224,0.5,0.5v6c0,0.276-0.225,0.5-0.5,0.5 h-6C14.225,24,14,23.776,14,23.5z"
                    ></path>
                  </g>
                </g>
              </svg>
              <p class="text-sm font-medium text-[#44546f]">Trang chủ</p>
            </RouterLink>
          </li>
        </ul>
      </div>
      <!-- main content -->
      <div class="w-4/5">
        <RouterView></RouterView>
      </div>
    </div>
  </div>
</template>
<style scoped>
.active-link {
  background-color: #e9f2ff;
  color: #0c66e4;
  border-radius: 6px;
  fill: #0c66e4;
  stroke: #0c66e4;
}
.active-link svg {
  fill: #0c66e4;
  stroke: #0c66e4;
}
</style>
